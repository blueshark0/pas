<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>趋势分析 - 个人资金规划APP</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="css/styles.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gray-50">
  <!-- iOS 状态栏 -->
  <div class="ios-status-bar">
    <div class="status-bar-left">
      <span class="status-bar-time">9:41</span>
    </div>
    <div class="status-bar-right">
      <i class="fas fa-signal status-bar-icon"></i>
      <i class="fas fa-wifi status-bar-icon"></i>
      <i class="fas fa-battery-full status-bar-icon"></i>
    </div>
  </div>
  
  <!-- 主内容 -->
  <div class="main-content pb-24">
    <div class="flex justify-between items-center mb-6">
      <h1 class="text-2xl font-bold">趋势分析</h1>
      <div class="w-10 h-10 rounded-full border border-gray-300 flex items-center justify-center">
        <i class="fas fa-calendar text-gray-700"></i>
      </div>
    </div>
    
    <!-- 时间范围选择 -->
    <div class="flex mb-6 space-x-2 overflow-x-auto py-2">
      <div class="px-4 py-2 bg-blue-500 text-white rounded-full text-sm whitespace-nowrap">
        月视图
      </div>
      <div class="px-4 py-2 bg-gray-200 rounded-full text-sm whitespace-nowrap">
        季视图
      </div>
      <div class="px-4 py-2 bg-gray-200 rounded-full text-sm whitespace-nowrap">
        年视图
      </div>
      <div class="px-4 py-2 bg-gray-200 rounded-full text-sm whitespace-nowrap">
        自定义
      </div>
    </div>
    
    <!-- 收支趋势图表 -->
    <div class="card mb-6">
      <div class="flex justify-between items-center mb-4">
        <h2 class="font-semibold">收支趋势</h2>
        <div class="text-sm text-gray-500">2023年8月</div>
      </div>
      <div class="h-64">
        <canvas id="incomeExpenseChart"></canvas>
      </div>
    </div>
    
    <!-- 资产负债趋势 -->
    <div class="card mb-6">
      <div class="flex justify-between items-center mb-4">
        <h2 class="font-semibold">资产负债趋势</h2>
        <div class="text-sm text-gray-500">近6个月</div>
      </div>
      <div class="h-64">
        <canvas id="assetLiabilityChart"></canvas>
      </div>
    </div>
    
    <!-- 消费分类分析 -->
    <div class="card mb-6">
      <div class="flex justify-between items-center mb-4">
        <h2 class="font-semibold">消费分类分析</h2>
        <div class="text-sm text-gray-500">本月</div>
      </div>
      <div class="h-64">
        <canvas id="categoryChart"></canvas>
      </div>
      <div class="grid grid-cols-2 gap-4 mt-4">
        <div class="flex items-center">
          <div class="w-3 h-3 rounded-full bg-blue-500 mr-2"></div>
          <span class="text-sm text-gray-600">餐饮：¥2,450 (30%)</span>
        </div>
        <div class="flex items-center">
          <div class="w-3 h-3 rounded-full bg-green-500 mr-2"></div>
          <span class="text-sm text-gray-600">购物：¥1,840 (22%)</span>
        </div>
        <div class="flex items-center">
          <div class="w-3 h-3 rounded-full bg-yellow-500 mr-2"></div>
          <span class="text-sm text-gray-600">交通：¥960 (12%)</span>
        </div>
        <div class="flex items-center">
          <div class="w-3 h-3 rounded-full bg-red-500 mr-2"></div>
          <span class="text-sm text-gray-600">娱乐：¥850 (10%)</span>
        </div>
        <div class="flex items-center">
          <div class="w-3 h-3 rounded-full bg-purple-500 mr-2"></div>
          <span class="text-sm text-gray-600">住房：¥1,650 (20%)</span>
        </div>
        <div class="flex items-center">
          <div class="w-3 h-3 rounded-full bg-gray-500 mr-2"></div>
          <span class="text-sm text-gray-600">其他：¥570 (6%)</span>
        </div>
      </div>
    </div>
    
    <!-- 财务健康度 -->
    <div class="card mb-6">
      <h2 class="font-semibold mb-4">财务健康度</h2>
      <div class="flex items-center mb-4">
        <div class="w-16 h-16 rounded-full border-4 border-blue-500 flex items-center justify-center mr-4">
          <span class="text-2xl font-bold text-blue-500">85</span>
        </div>
        <div>
          <p class="font-medium">财务状况健康</p>
          <p class="text-sm text-gray-600">较上月提升3分</p>
        </div>
      </div>
      <div class="grid grid-cols-3 gap-2 text-center">
        <div class="p-2 bg-gray-100 rounded">
          <p class="text-xs text-gray-500">债务收入比</p>
          <p class="font-medium">28%</p>
          <p class="text-xs text-green-500">良好</p>
        </div>
        <div class="p-2 bg-gray-100 rounded">
          <p class="text-xs text-gray-500">储蓄率</p>
          <p class="font-medium">22%</p>
          <p class="text-xs text-green-500">良好</p>
        </div>
        <div class="p-2 bg-gray-100 rounded">
          <p class="text-xs text-gray-500">应急资金</p>
          <p class="font-medium">3.5月</p>
          <p class="text-xs text-yellow-500">一般</p>
        </div>
      </div>
    </div>
  </div>

  <!-- 底部导航栏 -->
  <div class="bottom-tab-bar">
    <div class="tab-item">
      <i class="fas fa-home tab-icon"></i>
      <span class="tab-label">首页</span>
    </div>
    <div class="tab-item">
      <i class="fas fa-list tab-icon"></i>
      <span class="tab-label">记账</span>
    </div>
    <div class="tab-item">
      <i class="fas fa-money-check-alt tab-icon"></i>
      <span class="tab-label">贷款</span>
    </div>
    <div class="tab-item active">
      <i class="fas fa-chart-line tab-icon"></i>
      <span class="tab-label">趋势</span>
    </div>
    <div class="tab-item">
      <i class="fas fa-user tab-icon"></i>
      <span class="tab-label">我的</span>
    </div>
  </div>
  
  <script>
    // 收支趋势图表
    const incomeExpenseCtx = document.getElementById('incomeExpenseChart').getContext('2d');
    const incomeExpenseChart = new Chart(incomeExpenseCtx, {
      type: 'line',
      data: {
        labels: ['1日', '5日', '10日', '15日', '20日', '25日', '30日'],
        datasets: [
          {
            label: '收入',
            data: [0, 0, 0, 12450, 12450, 13200, 13200],
            borderColor: 'rgba(75, 192, 192, 1)',
            backgroundColor: 'rgba(75, 192, 192, 0.2)',
            tension: 0.4,
            fill: true
          },
          {
            label: '支出',
            data: [1200, 2400, 3600, 4800, 6000, 7200, 8320],
            borderColor: 'rgba(255, 99, 132, 1)',
            backgroundColor: 'rgba(255, 99, 132, 0.2)',
            tension: 0.4,
            fill: true
          }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            position: 'top',
          }
        },
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    });
    
    // 资产负债趋势图表
    const assetLiabilityCtx = document.getElementById('assetLiabilityChart').getContext('2d');
    const assetLiabilityChart = new Chart(assetLiabilityCtx, {
      type: 'line',
      data: {
        labels: ['3月', '4月', '5月', '6月', '7月', '8月'],
        datasets: [
          {
            label: '资产',
            data: [32000, 35000, 38000, 40000, 41500, 43290],
            borderColor: 'rgba(54, 162, 235, 1)',
            backgroundColor: 'rgba(54, 162, 235, 0.2)',
            tension: 0.4,
            fill: true
          },
          {
            label: '负债',
            data: [1380000, 1370000, 1360000, 1350000, 1340000, 1326450],
            borderColor: 'rgba(255, 159, 64, 1)',
            backgroundColor: 'rgba(255, 159, 64, 0.2)',
            tension: 0.4,
            fill: true
          }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            position: 'top',
          }
        }
      }
    });
    
    // 消费分类图表
    const categoryCtx = document.getElementById('categoryChart').getContext('2d');
    const categoryChart = new Chart(categoryCtx, {
      type: 'doughnut',
      data: {
        labels: ['餐饮', '购物', '交通', '娱乐', '住房', '其他'],
        datasets: [{
          data: [30, 22, 12, 10, 20, 6],
          backgroundColor: [
            'rgba(54, 162, 235, 0.8)',
            'rgba(75, 192, 192, 0.8)',
            'rgba(255, 206, 86, 0.8)',
            'rgba(255, 99, 132, 0.8)',
            'rgba(153, 102, 255, 0.8)',
            'rgba(201, 203, 207, 0.8)'
          ],
          borderWidth: 0
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            display: false
          }
        }
      }
    });
  </script>
</body>
</html>
